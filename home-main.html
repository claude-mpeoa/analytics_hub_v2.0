<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Hub - Dashboard</title>
<style>
    /* --- DESIGN TOKENS --- */
    :root {
        --primary: #2563eb;
        --primary-hover: #1d4ed8;
        --slate-50: #f8fafc;
        --slate-100: #f1f5f9;
        --slate-200: #e2e8f0;
        --slate-300: #cbd5e1;
        --slate-400: #94a3b8;
        --slate-600: #475569;
        --slate-700: #334155;
        --slate-800: #1e293b;
        --slate-900: #0f172a;
        --sidebar-width: 260px;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Inter', -apple-system, system-ui, sans-serif;
    }

    body {
        background: radial-gradient(circle at top left, #f1f5f9, #e2e8f0);
        height: 100vh;
        color: var(--slate-900);
        display: flex;
        overflow: hidden;
    }

    /* --- SIDEBAR SCROLLBAR DESIGN --- */
    .nav-container::-webkit-scrollbar {
        width: 5px;
    }

    .nav-container::-webkit-scrollbar-track {
        background: transparent;
    }

    .nav-container::-webkit-scrollbar-thumb {
        background: var(--slate-700);
        border-radius: 10px;
    }

    .nav-container::-webkit-scrollbar-thumb:hover {
        background: var(--slate-600);
    }

    /* Support for Firefox */
    .nav-container {
        scrollbar-width: thin;
        scrollbar-color: var(--slate-700) transparent;
        flex: 1;
        overflow-y: auto;
        padding-right: 4px;
        padding-bottom: 2rem;
    }

    /* --- PERSISTENT HAMBURGER TOGGLE --- */
    .menu-toggle {
        position: fixed;
        top: 1.25rem;
        left: 1.25rem;
        z-index: 3000;
        background: var(--slate-900);
        color: white;
        border: none;
        width: 44px;
        height: 44px;
        border-radius: 10px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
    }

    .menu-toggle:hover {
        background: var(--primary);
        transform: scale(1.05);
    }

    /* --- SIDEBAR --- */
    .sidebar {
        width: var(--sidebar-width);
        background: var(--slate-900);
        color: white;
        display: flex;
        flex-direction: column;
        padding: 1.25rem;
        height: 100vh;
        position: fixed;
        top: 0;
        left: calc(var(--sidebar-width) * -1);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 2500;
    }

    .sidebar.open {
        transform: translateX(var(--sidebar-width));
        box-shadow: 15px 0 50px rgba(0,0,0,0.2);
    }

    .brand-section {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 0.5rem 0.5rem 1.25rem 0.5rem;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        margin-bottom: 1rem;
        margin-top: 3.5rem;
    }

    .brand-text {
        font-weight: 800;
        letter-spacing: -0.025em;
        font-size: 1rem;
    }

    .nav-category {
        font-size: 0.6rem;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: var(--slate-400);
        margin: 1.25rem 0 0.4rem 0.5rem;
        font-weight: 800;
    }

    .nav-link {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 0.5rem 0.75rem;
        color: var(--slate-300);
        text-decoration: none;
        border-radius: 6px;
        font-size: 0.85rem;
        font-weight: 500;
        transition: all 0.15s;
        cursor: pointer;
        margin-bottom: 2px;
        border: none;
        background: transparent;
        width: 100%;
        text-align: left;
    }

    .nav-link svg {
        width: 18px;
        height: 18px;
        stroke-width: 2;
        color: var(--slate-400);
        flex-shrink: 0;
    }

    .nav-link:hover {
        background: rgba(255,255,255,0.05);
        color: white;
    }

    .nav-link:hover svg {
        color: white;
    }

    .nav-link.active {
        background: rgba(37, 99, 235, 0.2);
        color: white;
        border-left: 2px solid var(--primary);
    }

    .nav-link.active svg {
        color: var(--primary);
    }

    .nav-link.logout {
        margin-top: 1rem;
        color: #f87171;
        border: 1px solid rgba(248, 113, 113, 0.2);
    }

    .nav-link.logout svg {
        color: #f87171;
    }

    .nav-link.logout:hover {
        background: rgba(248, 113, 113, 0.1);
        color: #fca5a5;
        border-color: rgba(248, 113, 113, 0.5);
    }

    /* --- MAIN CONTENT --- */
    .main-content {
        flex: 1;
        padding: 1.25rem 1.5rem 1.5rem 5rem;
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100%;
        overflow: hidden;
        align-items: center;
    }

    .header {
        margin-bottom: 1rem;
        flex-shrink: 0;
        width: 95%;
        max-width: 1400px;
        text-align: left;
    }

    .welcome-msg h1 {
        font-size: 1.5rem;
        font-weight: 900;
        color: var(--slate-900);
    }

    /* --- VIEW CONTAINERS --- */
    .view-container {
        width: 95%;
        max-width: 1400px;
        flex: 1;
        display: none;
        flex-direction: column;
        overflow: hidden;
    }

    .view-container.active {
        display: flex;
    }

    /* --- CONTENT CARD STYLES --- */
    .content-card {
        background: white;
        border-radius: 12px;
        border: 1px solid var(--slate-200);
        padding: 2.5rem;
        overflow-y: auto;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        height: 100%;
    }

    .embedded-dashboard-iframe {
        width: 100%;
        height: 100%;
        border-radius: 12px;
        border: 1px solid var(--slate-200);
        background: white;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    }

    .sidebar-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(15, 23, 42, 0.4);
        backdrop-filter: blur(4px);
        z-index: 2000;
    }

    .sidebar-overlay.active {
        display: block;
    }

    /* --- REPORT GRID & CARDS --- */
    .report-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 1.5rem;
        padding: 1rem 0;
    }

    .report-card {
        background: var(--slate-50);
        border: 1px solid var(--slate-200);
        border-radius: 12px;
        padding: 1.25rem;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .report-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        border-color: var(--primary);
    }

    .card-image-placeholder {
        width: 100%;
        height: 160px;
        background: var(--slate-200);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--slate-400);
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .card-title {
        font-weight: 700;
        font-size: 1rem;
        color: var(--slate-900);
    }

    .card-desc {
        font-size: 0.85rem;
        color: var(--slate-600);
        line-height: 1.5;
        flex-grow: 1;
    }

    /* --- MODAL SYSTEM --- */
    .modal-container {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 4000;
        justify-content: center;
        align-items: center;
        background: rgba(15, 23, 42, 0.8);
        backdrop-filter: blur(8px);
    }

    .modal-container.active {
        display: flex;
    }

    .modal-content {
        width: 90%;
        height: 90%;
        background: white;
        border-radius: 16px;
        display: flex;
        flex-direction: column;
        position: relative;
        overflow: hidden;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    .modal-header {
        padding: 1rem 1.5rem;
        border-bottom: 1px solid var(--slate-200);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .modal-body {
        flex: 1;
        background: var(--slate-100);
    }

    .close-modal {
        background: var(--slate-100);
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .close-modal:hover {
        background: var(--slate-200);
        color: #ef4444;
    }

    .btn-launch {
        background: var(--primary);
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        text-decoration: none;
        display: inline-block;
    }

    .btn-launch:hover {
        background: var(--primary-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
    }
    .card-image {
    width: 100%;
    height: 200px;        /* adjust as needed */
    object-fit: cover;    /* keeps image clean & professional */
    border-radius: 8px;
}
</style>
</head>
<body>

    <button class="menu-toggle" id="menuToggle" aria-label="Toggle Menu">â˜°</button>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

 <aside class="sidebar" id="sidebar">
        <div class="brand-section">
            <span style="color:var(--primary)">â—†</span>
            <span class="brand-text">ANALYTICS HUB</span>
        </div>
        <nav class="nav-container">
            <div class="nav-category">Main Menu</div>
            <button class="nav-link active" onclick="showView('home')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                Home
            </button>
            <button class="nav-link" onclick="showView('marketing-summary')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                Marketing Summary
            </button>
            <button class="nav-link" onclick="showView('marketing-tasks')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg>
                Marketing Tasks
            </button>
            <button class="nav-link" onclick="showView('eventscalendar')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                Events Calendar
            </button>
            <div class="nav-category">Resources</div>
            <button class="nav-link" onclick="showView('marketing-reports')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>
                Marketing Reports
            </button>
            <button class="nav-link" onclick="showView('sales-reports')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                Sales Reports
            </button>
            <button class="nav-link" onclick="showView('power-bi')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
                Power BI Reports
            </button>
            <button class="nav-link" onclick="showView('sales-crm')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                Sales CRM
            </button>

            <div class="nav-category">Documents</div>
            <button class="nav-link" onclick="showView('budgeting')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                Planning & Budgeting
            </button>

            <div class="nav-category">Analytics Maturity</div>
            <button class="nav-link" onclick="showView('vision')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                Analytics Vision '26
            </button>
            <button class="nav-link" onclick="showView('ad-hoc')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                Ad Hoc Tasks
            </button>

            <button class="nav-link" onclick="showView('terms')">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                Terms of Service
            </button>

            <div class="nav-category">Session</div>
            <button class="nav-link logout" onclick="handleSignOut()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                Sign Out
            </button>
        </nav>
    </aside>

    <main class="main-content" id="mainBody">
        <header class="header">
            <div class="welcome-msg">
                <h1 id="userGreeting">Welcome back, Analytics Hub</h1>
                <p id="viewSubtitle" style="color: var(--slate-600); font-size: 0.85rem;">Platform Overview</p>
            </div>
        </header>

        <!-- VIEW CONTAINERS -->
        <div id="view-home" class="view-container active">
             <div class="content-card">
                <h2 style="margin-bottom: 1rem;">Analytics Hub Overview</h2>
                <p style="color: var(--slate-600); line-height: 1.6; margin-bottom: 2rem;">
                    Welcome to the centralized portal for all data initiatives. This hub serves as the single source of truth for the organization's intelligence assets, integrating live Looker Studio reports, planning documents, and cross-functional resource libraries to drive data-driven decision making.
                    <br><br>
                    <span style="color: #dc2626; font-weight: bold; font-style: italic;">
                        Use the top left menu button to navigate to the desired sections within the tool
                    </span>                 </p>
                
                <h3 style="font-size: 1.1rem; margin-bottom: 1.25rem; font-weight: 700; color: var(--slate-800);">Core Hub Components</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2.5rem;">
                    <div style="padding: 1.5rem; background: var(--slate-50); border-radius: 8px; border: 1px solid var(--slate-200);">
                        <div style="color: var(--primary); margin-bottom: 0.75rem;">
                            <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        </div>
                        <h4 style="color: var(--slate-900); margin-bottom: 0.5rem; font-weight: 700;">Quick Start</h4>
                        <p style="font-size: 0.85rem; color: var(--slate-600); line-height: 1.5;">Navigate to the <strong>Marketing Summary</strong> to view the latest channel performance ROI and real-time conversion metrics.</p>
                    </div>
                    <div style="padding: 1.5rem; background: var(--slate-50); border-radius: 8px; border: 1px solid var(--slate-200);">
                        <div style="color: var(--primary); margin-bottom: 0.75rem;">
                            <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                        </div>
                        <h4 style="color: var(--slate-900); margin-bottom: 0.5rem; font-weight: 700;">Development</h4>
                        <p style="font-size: 0.85rem; color: var(--slate-600); line-height: 1.5;">Maintained by Data Engineering. For technical report requests or dashboard bugs, submit a ticket via the <strong>Ad Hoc Tasks</strong> module.</p>
                    </div>
                    <div style="padding: 1.5rem; background: var(--slate-50); border-radius: 8px; border: 1px solid var(--slate-200);">
                        <div style="color: var(--primary); margin-bottom: 0.75rem;">
                            <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04M12 21a9.003 9.003 0 008.367-5.657L12.001 11H11.997l-8.366 4.343A9.003 9.003 0 0012 21z"></path></svg>
                        </div>
                        <h4 style="color: var(--slate-900); margin-bottom: 0.5rem; font-weight: 700;">Governance</h4>
                        <p style="font-size: 0.85rem; color: var(--slate-600); line-height: 1.5;">All data handling complies with the <strong>Terms of Service</strong>. Ensure you are familiar with data privacy protocols before exporting reports.</p>
                    </div>
                </div>

                <div style="background: linear-gradient(to right, var(--slate-900), #1e293b); color: white; border-radius: 12px; padding: 2rem; display: flex; align-items: center; gap: 2rem; flex-wrap: wrap;">
                    <div style="flex: 1; min-width: 300px;">
                        <h3 style="font-size: 1.25rem; margin-bottom: 0.75rem;">Analytics Vision 2026</h3>
                        <p style="font-size: 0.9rem; color: var(--slate-400); line-height: 1.6; margin-bottom: 1.5rem;">
                            We are currently in Phase 2 of our multi-year digital transformation. Our focus remains on predictive modeling, real-time attribution, and the democratization of data across all departments.
                        </p>
                        <button onclick="showView('vision')" style="background: var(--primary); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; font-weight: 600; cursor: pointer; font-size: 0.85rem;">View Strategy Roadmap</button>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div style="text-align: center; border-left: 2px solid rgba(255,255,255,0.1); padding-left: 1rem;">
                            <div style="font-size: 1.5rem; font-weight: 800; color: var(--primary);">85%</div>
                            <div style="font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--slate-400);">Data Coverage</div>
                        </div>
                        <div style="text-align: center; border-left: 2px solid rgba(255,255,255,0.1); padding-left: 1rem;">
                            <div style="font-size: 1.5rem; font-weight: 800; color: var(--primary);">12+</div>
                            <div style="font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--slate-400);">Live Channels</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-marketing-summary" class="view-container">
            <iframe src="https://lookerstudio.google.com/embed/reporting/6a5ebfd8-df97-416d-a8cc-bbfb8822b17b/page/p_nxin8h4eyd" frameborder="0" class="embedded-dashboard-iframe" allowfullscreen></iframe>
        </div>

        <div id="view-marketing-reports" class="view-container">
            <div class="content-card">
                <h2 style="margin-bottom: 0.5rem;">Marketing Reports Repository</h2>
                <p style="color: var(--slate-600); margin-bottom: 1.5rem; font-size: 0.9rem;">Select a report card to launch the interactive data dashboard in full-screen view.</p>
                
                <div class="report-grid">
                    <div class="report-card" onclick="openReportModal('Daily Dashboard', 'https://lookerstudio.google.com/embed/reporting/6a5ebfd8-df97-416d-a8cc-bbfb8822b17b/page/bLkdF')">
                        <img
                            src="resources/img/DailyReport.png"
                            alt="Daily Dashboard Preview"
                            class="card-image"
                        >
                        <div class="card-title">Daily Dashboard</div>
                        <div class="card-desc">Daily performance view of spend, leads, sales and conversion KPI's at an overall level.</div>
                    </div>
                    <div class="report-card" onclick="openReportModal('Marketing Performance Dashboard', 'https://lookerstudio.google.com/embed/reporting/32bd1529-021c-4e7b-b8ce-90060b85ce88/page/FOKcF')">
                        <img
                            src="resources/img/MarketingReport.png"
                            alt="Daily Dashboard Preview"
                            class="card-image"
                        >                        <div class="card-title">Marketing Performance Dashboard</div>
                        <div class="card-desc">Overall views of Website, Search Console, Google/Meta Ads, and Sales Performance across all channels.</div>
                    </div>
                    <div class="report-card" onclick="openReportModal('Paid Search Performance Dashboard', 'https://lookerstudio.google.com/embed/reporting/108f25d5-9286-4e99-a78a-5f6b25f8b2e0/page/FOKcF')">
                        <img
                            src="resources/img/PaidSearchReport.png"
                            alt="Daily Dashboard Preview"
                            class="card-image"
                        >                        <div class="card-title">Paid Search Performance Dashboard</div>
                        <div class="card-desc">Focused views of Website, Search Console, and Google Ads performance for Paid Search only.</div>
                    </div>
                    <div class="report-card" onclick="openReportModal('Paid Social Performance Dashboard', 'https://lookerstudio.google.com/embed/reporting/f6d4edbe-823e-40b8-b7ff-3521eb0ad780/page/FOKcF')">
                        <img
                            src="resources/img/PaidSocialReport.png"
                            alt="Daily Dashboard Preview"
                            class="card-image"
                        >                        <div class="card-title">Paid Social Performance Dashboard</div>
                        <div class="card-desc">Detailed analytics for Meta Ads, Website traffic, and Sales conversions for Paid Social channels.</div>
                    </div>
                    <div class="report-card" onclick="openReportModal('Direct and Organic Search Performance', 'https://lookerstudio.google.com/embed/reporting/f8b1dc4d-5b50-43f1-a08e-a71ebde2ea35/page/FOKcF')">
                        <img
                            src="resources/img/DirectOrganicReport.png"
                            alt="Daily Dashboard Preview"
                            class="card-image"
                        >                        <div class="card-title">Direct & Organic Performance Dashboard</div>
                        <div class="card-desc">Performance metrics for Direct and Organic Search channels including Search Console integration.</div>
                    </div>
                    <div class="report-card" onclick="openReportModal('Marketing Budgets and Plans', 'https://lookerstudio.google.com/embed/reporting/PLACEHOLDER_6')">
                        <img
                            src="resources/img/BudgetPlanningReport.png"
                            alt="Daily Dashboard Preview"
                            class="card-image"
                        >                        <div class="card-title">Marketing Budgets and Plans</div>
                        <div class="card-desc">Detailed breakdown of actual spend vs. planned budgets and fiscal projections.</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-marketing-tasks" class="view-container">
            <iframe src="marketing_task_manager.html" frameborder="0" class="embedded-dashboard-iframe" title="Marketing Task Manager"></iframe>
        </div>
        
        <div id="view-sales-reports" class="view-container"><div class="content-card"><h2>Sales Intelligence</h2></div></div>
        <div id="view-power-bi" class="view-container"><div class="content-card"><h2>Power BI Reports</h2></div></div>

        <!-- VIEW: SALES CRM LAUNCHER -->
        <div id="view-sales-crm" class="view-container">
            <div class="content-card" style="text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                <div style="font-size: 4rem; margin-bottom: 1.5rem; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));">ðŸ’¼</div>
                <h2 style="margin-bottom: 1rem; font-size: 1.75rem;">Sales CRM Terminal</h2>
                <p style="color: var(--slate-600); max-width: 450px; margin-bottom: 2.5rem; line-height: 1.6;">
                    For the best experience and data security, the CRM opens in a dedicated secure browser window. This prevents session conflicts with your Analytics Dashboard.
                </p>
                <button onclick="openCRMExternal()" class="btn-launch">
                    Launch Vtiger CRM 
                </button>
                <p style="margin-top: 1.5rem; font-size: 0.75rem; color: var(--slate-400);">
                    Secure connection to: VTiger CRM
                </p>
            </div>
        </div>




        <div id="view-budgeting" class="view-container">
            <iframe src="planning_budgeting.html" frameborder="0" class="embedded-dashboard-iframe" title="Planning and Budgeting"></iframe>

        </div>
        
        <div id="view-vision" class="view-container">
            <iframe src="analytics_vision_2026.html" frameborder="0" class="embedded-dashboard-iframe" title="Analytics Vision 2026"></iframe>
        </div>
        
        <div id="view-ad-hoc" class="view-container">
            <iframe src="adhoc_task_manager.html" frameborder="0" class="embedded-dashboard-iframe" title="Ad Hoc Tasks"></iframe>
	</div>




        <div id="view-eventscalendar" class="view-container">
            <iframe src="event_planner.html" frameborder="0" class="embedded-dashboard-iframe" title="Event Planner"></iframe>
        </div>
        
        <div id="view-terms" class="view-container">
            <iframe src="terms_of_service.html" frameborder="0" class="embedded-dashboard-iframe" title="Terms of Service"></iframe>
        </div>
    </main>

    <div id="reportModal" class="modal-container">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalReportTitle" style="font-weight: 800; color: var(--slate-900);">Report View</h3>
                <button class="close-modal" onclick="closeReportModal()">âœ•</button>
            </div>
            <div class="modal-body"><iframe id="modalIframe" src="" frameborder="0" style="width: 100%; height: 100%;" allowfullscreen></iframe></div>
        </div>
    </div>

    <script>
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const mainBody = document.getElementById('mainBody');
        const reportModal = document.getElementById('reportModal');
        const modalIframe = document.getElementById('modalIframe');
        const modalReportTitle = document.getElementById('modalReportTitle');

        function toggleSidebar() {
            const isOpen = sidebar.classList.contains('open');
            sidebar.classList.toggle('open');
            sidebarOverlay.classList.toggle('active');
            menuToggle.textContent = isOpen ? 'â˜°' : 'âœ•';
            mainBody.style.pointerEvents = isOpen ? 'auto' : 'none';
            mainBody.style.opacity = isOpen ? '1' : '0.4';
        }

        function showView(viewId) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('onclick') && link.getAttribute('onclick').includes(`'${viewId}'`)) {
                    link.classList.add('active');
                }
            });

            document.querySelectorAll('.view-container').forEach(container => {
                container.classList.remove('active');
            });

            const activeView = document.getElementById('view-' + viewId);
            if (activeView) activeView.classList.add('active');

            const viewTitleMap = {
                'home': 'Platform Overview', 'marketing-summary': 'Marketing Summary Dashboard', 
                'marketing-tasks': 'Task Management', 'marketing-reports': 'Insights Repository',
                'sales-reports': 'Sales Performance', 'power-bi': 'Advanced Analytics',
                'sales-crm': 'CRM Insights', 'budgeting': 'Financial Planning',
                'vision': 'Strategic Roadmap', 'ad-hoc': 'Request Queue',
                'eventscalendar': 'Marketing Calendar', 'terms': 'Terms of use'
            };
            document.getElementById('viewSubtitle').textContent = viewTitleMap[viewId] || 'Analytics Hub';
            if (sidebar.classList.contains('open')) toggleSidebar();
        }

        // --- THE CRM EXTERNAL HANDLER ---
        function openCRMExternal() {
            const crmUrl = "https://www.c-ssolutions.co.za/crm/index.php";
            const newWindow = window.open(crmUrl, '_blank');
            
            if (!newWindow || newWindow.closed || typeof newWindow.closed === 'undefined') {
                alert('Popup Blocked: Please allow popups for this site to open the CRM.');
            }
        }

        function handleSignOut() {
            localStorage.removeItem('userEmail');
            localStorage.removeItem('userRole');
            localStorage.removeItem('isLoggedIn');
            window.location.replace('index.html');
        }

        function openReportModal(title, url) {
            modalReportTitle.textContent = title;
            modalIframe.src = url;
            reportModal.classList.add('active');
        }

        function closeReportModal() {
            reportModal.classList.remove('active');
            modalIframe.src = "";
        }

        menuToggle.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', toggleSidebar);



        // Session Check
        const email = localStorage.getItem('userEmail');
        if (!email) {
            // Check for development environment or redirect
            if(window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
                window.location.replace('index.html');
            } else {
                document.getElementById('userGreeting').textContent = "Welcome, Developer";
            }
        } else {
            const name = email.split('.')[0];
            document.getElementById('userGreeting').textContent = `Welcome back, ${name.charAt(0).toUpperCase() + name.slice(1)}`;
        }

    </script>
</body>

</html>
